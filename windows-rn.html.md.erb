---
title: PAS for Windows v2.4 Release Notes
owner: Garden Windows
---

This topic contains release notes for Pivotal Application Service (PAS) for Windows.

## <a id='upgrade'></a> How to Upgrade

The PAS for Windows v2.4 tile is available with the release of Pivotal Cloud Foundry (PCF) v2.4. To
use the PAS for Windows v2.4 tile, you must install Ops Manager v2.4 or later and PAS v2.4 or later.

## <a id='releases'></a> Releases

### <a id='2.4.1'></a> 2.4.1

* **[Feature Improvement]** Enable SMB `net use`-style mounting for IP-address based UNC paths on Windows 2016 cells
* Bump hwc-offline-buildpack to version `3.1.2`
* Bump windowsfs-release to version `1.8.0`

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>windows1803 stemcell</td><td>1803.4</td></tr>
    <tr><td>cf-windows-smoke-tests</td><td>40.0.40</td></tr>
    <tr><td>diego</td><td>2.22.0</td></tr>
    <tr><td>event-log</td><td>0.7.0</td></tr>
    <tr><td>garden-runc</td><td>1.16.7</td></tr>
    <tr><td>hwc-offline-buildpack</td><td>3.1.2</td></tr>
    <tr><td>loggregator-agent</td><td>2.2</td></tr>
    <tr><td>loggregator</td><td>103.3</td></tr>
    <tr><td>winc</td><td>1.7.0</td></tr>
    <tr><td>windows-utilities</td><td>0.11.0</td></tr>
    <tr><td>windowsfs-release</td><td>1.8.0</td></tr>
  </tbody>
</table>

### <a id='2.4.0'></a> 2.4.0

* **[Feature]** Enable fetching logs and metrics via gRPC

* Add new release loggregator-agent at version `2.2`
* Removed consul release
* Bump cf-windows-smoke-tests to version `40.0.40`
* Bump hwc-offline-buildpack to version `3.1.1`
* Bump windowsfs-release to version `1.7.0`
* Bump windows1803 stemcell to version `1803.4`
* HWC buildpack supports http compression for arbitrary MIME types

<table border="1" class="nice">
  <thead>
    <tr>
      <th>Component</th>
      <th>Version</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>windows1803 stemcell</td><td>1803.4</td></tr>
    <tr><td>cf-windows-smoke-tests</td><td>40.0.40</td></tr>
    <tr><td>diego</td><td>2.22.0</td></tr>
    <tr><td>event-log</td><td>0.7.0</td></tr>
    <tr><td>garden-runc</td><td>1.16.7</td></tr>
    <tr><td>hwc-offline-buildpack</td><td>3.1.1</td></tr>
    <tr><td>loggregator-agent</td><td>2.2</td></tr>
    <tr><td>loggregator</td><td>103.3</td></tr>
    <tr><td>winc</td><td>1.7.0</td></tr>
    <tr><td>windows-utilities</td><td>0.11.0</td></tr>
    <tr><td>windowsfs-release</td><td>1.7.0</td></tr>
  </tbody>
</table>

## <a id='new-features'></a> New Advanced Features in PAS for Windows v2.4

The **Advanced Features** pane of the PAS for Windows tile includes new functionality that may have
certain constraints.

Although these features are fully supported, Pivotal recommends caution when using them in production.

### <a id="overcommit"></a> Memory and Disk Overcommit for Diego Cells

You can now enable memory and disk overcommit for Diego cells.
If you want to configure this feature, use the **Cell Memory Capacity (MB)** and **Cell Disk Capacity (MB)** fields
on the **Advanced Features** pane of the PAS for Windows tile.

<p class='note'><strong>Note:</strong> Due to the risk of app failure and the deployment-specific nature of disk and memory use,
Pivotal has no recommendation about how much, if any, memory or disk space to overcommit.</p>

For more information, see the
[Configure the Tile](https://docs.pivotal.io/pivotalcf/2-4/windows/installing.html#config) section of _Installing and Configuring PAS for Windows_.

### <a id="metrics-prefix"></a> Uniquely Identify Metrics from PAS for Windows

Metrics emitted from PAS for Windows are now tagged with the BOSH deployment name of your PAS for Windows tile.
For example, `pas-windows-GUID`.
With a GUID, you can uniquely identify your metrics by tile.
In PAS for Windows v2.3 and earlier, metrics use the `cf` tag as the deployment name.

This feature is enabled by default in new deployments of PAS for Windows v2.4.
For upgrades to PAS for Windows v2.4, the feature is disabled by default.
You can configure this setting in the **Advanced Features** pane of the PAS for Windows tile:

* If the **Use “cf” as deployment name in emitted metrics instead of unique name** checkbox is disabled,
PAS for Windows metrics are tagged with the BOSH deployment name of your PAS for Windows tile.
* If the **Use “cf” as deployment name in emitted metrics instead of unique name** checkbox is enabled,
PAS for Windows metrics are tagged with `cf` as the deployment name.

<p class='note'><strong>Note:</strong> Enable the <code>cf</code> value
only if it is required for backward compatibility with previous versions of PCF
or if you have scripts that rely on metrics with <code>cf</code> as the value for <code>deployment</code>.
Pivotal does not recommend enabling the <code>cf</code> value as a permanent solution.</p>

### <a id='smoke-tests'></a> Smoke Tests are Available

Smoke Tests are available in PAS for Windows v2.4 to verify `cf push` and app routability at deploy time.
You have the option of choosing a temporary or specified organization and space for smoke tests.
The **Smoke Test Errand** can be configured within the PAS for Windows Tile. Smoke Tests are turned off by default.
 
For more information on Smoke Tests,
see [Step 3: Configure the Tile](https://docs-pcf-staging.cfapps.io/pivotalcf/2-4/windows/installing.html#config)
in _Installing and Configuring PAS for Windows_.

#### PASW Smoke Test Errand in internetless environments with OCSP configured

If a Cloud Foundry environment does not have internet access and the
load balancer certificates have been configured to use the Online
Certificate Status Protocol (OCSP), the PASW Smoke Test errand will
fail due to timeouts if OCSP has not been configured correctly.
OCSP is a protocol for verifying the validity of an x509 certificate.
Included in the certificate data is the location of the OCSP “responder”
which can return the status of the certificate; if a responder is
not provided, the Windows OS will attempt to verify the certificate
with a call to Microsoft servers on the public internet, which will
timeout in internetless environments. Therefore, in internetless
environments the errand will fail when attempting to run `cf login`
because the login command will timeout while it waits for the OCSP
request to timeout.

To configure certificates to work in internetless environments:
* Option 1: configure the certificate to use an OCSP responder that is reachable from the local network
* Option 2: configure the certificate to use a Certificate Revocation List (CRL) that is reachable from the local network

### <a id='stack'></a> Developers Can Push with Default Windows Stack

Developers can push apps using `cf push -s windows`. Pushing apps with this command ensures that you are pushing with the Windows stack with the latest `rootfs`.

For more information, see [Step 2: Push App to PAS for Windows Cells](https://docs.pivotal.io/pivotalcf/2-4/windows/migrating.html) in _Migrating Apps to PAS for Windows_.

### <a id='smb'></a> SMB Support for Windows Containers (Beta)

SMB mounting allows developers to bind existing SMB shares to their containerized apps. 
Previously, SMB shares were only accessible by using the SharpCIFS library. PASW v2.4.0 natively supports SMB mounting.

This enables usage of the `net use` command. This is currently limited to IP address-based UNC paths.

For more information, see [SMB (WINDOWS) FILE SHARES](https://dotnet-cookbook.cfapps.io/3rdparty/smb_file_shares/) in the _.NET on Pivotal Cloud Foundry_ cookbook.
